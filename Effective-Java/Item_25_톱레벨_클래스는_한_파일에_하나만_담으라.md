소스 파일 하나에 여러개의 클래스를 선언할 수 있고 이에 대해서 컴파일러도 불평하지 않는다. 하지만 이렇게 사용하면 아무런 득도 없을 뿐더라 심각한 위험을 감수해야 하는 행위다. 이렇게 하면 한 클래스를 여러 가지로 정의할 수 있으며 그 중 어느것을 사용할 지는 어느 소스 파일을 컴파일 하느야에 따라 달라진다.

```java
// Dog.java
class Dog {
    ...
}
class Cat {
    ...
}
// Cat.java
class Dog {
    ...
}
class Cat {
    ...
}
```

이런 문제를 해결하기 위해서는 단순히 톱레벨 클래스로 서로 다른 소스 파일로 분리하면 된다. 굳이 한 파일에 담고 싶다면 정적 클래스를 사용하는 방법을 생각해 볼 수 있다. 

```java
/// Test.java
public class Test {
    
    ...
    private static class cat {
        ...
    }
    
    private static class dog {
        ...
    }
}
```



### 핵심 정리

> 교훈은 명확하다. 소스 파일 하나에는 반드시 톱레벨 클래스를 하나만 담자. 이 규칙만 따른다면 컴파일러가 한 클래스에 대한 정의를 여러 개 만들어 내는 일은 사라진다. 소스 파일을 어떤 순서로 컴파일 하든 바이너리 파일이나 프로그램의 동작이 달라지는 일은 결코 일어나지 않을 것이다.