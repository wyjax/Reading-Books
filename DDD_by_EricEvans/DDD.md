##### VALUE OBJECT에 대하여

모델에 포함된 어떤 요소의 속성에만 관심이 있다면 그것을 value object로 분류해야 한다. value object가 전하는 속성의 의미를 표현하고 관련한 기능을 제공하면 좋다.  그리고 불변성을 유지하고 식별하는 것을 넣지 말아야 한다.

```
value object는 해당 요소가 어느 것인지는 관심없고 무엇인지에 대해서만 관심있게 해야 한다.
```



##### 여러 시스템 사이에서 객체의 공유가 사용해도 되는 경우

1. 공간을 절약하거나 데이터베이스 내에 객체 수를 줄이는 것이 중요한 경우
2. 통신 부하가 낮은 경우
    1. 공유 객체의 불변성이 엄격하게 지켜지는 경우

##### value object의 변경을 허락하는 경우

1.  값이 자주 바뀌는 경우
2. 객체 생성이나 삭제에 비용이 적게 드는 경우
3. 교체로 인해 클러스터링이 제한되는 경우 
4. value를 공유할 일이 그리 많지 않거나 클러스터링을 향상시키기 위해서나 다른 기술적인 이유로 공유가 분류된 경우

#### value가 변경이 가능하면 그것을 공유하면 안된다.



##### 도메인 연산은 사물이 아닌 활동 or 행동인데 모델링 패러다임이 객체이므로 그러한 연산도 객체와 잘 어울리게끔 만들어야 한다

객체에 어울리지 않는 연산을 강제로 넣을 경우 객체는 자신의 개념적 명확성을 잃어버리고 이해하거나 리팩터링하기 어려워 진다. >> 객체에 대한 책임을 추가하는 것이고 객체에 대한 의존성을 만들어서 단독으로 이해할 수 있는 개념을 애매한 객체로 전락시킴

##### Service는 도메인과 관련된 연산을 하고 정의하는 기준은 클라이언트에 무엇을 제공할 수 있냐이다

서비스의 매개변수와 반환값은 도메인 객체여야함



#### 잘 만들어진 Service 특징

1. 연산이 원래부터 엔티티나 벨류의 일부를 구성하는 것이 아니라 도메인 개념과 관련돼 있다
2. 인터페이스가 도메인 모델의 외적 요소의 측면에서 정의
3. 연산은 상태가 없다 > 클라리언트가 서비스의 모든 인스턴스를 사용할 수 있다는 것을 말함

##### 도메인의 중대한 프로세스나 변환 과정이 엔티티나 벨류의 고유한 책임이 아니라면 연산을 서비스로 선언되는 독립 인터페이스로 모델에 추가ㄱㄱ



서비스의 종류

1. 도메인 서비스
2. 응용서비스



### 모듈 Module

모듈 간에는 결합도가 낮아야하고 모듈 내부는 응집도가 높아야 한다

- 모듈의 이름은 모듈의 의미를 전달한다



도메인에는 도메인과 밀접한 연관된 요소만 넣는다.



#### 모델링 패러다임 p.120

패러다임으 ㄹ혼합하면 개발자들이 어떤 개념을 그것에 가장 잘 어울리는 형식으로 모델링 가능, 그렇지만 응집력있는 모델을 만드는 것은 쉽지가 않다. 개발자가 소프트웨어에 포함된 응집력 있는 모델을 분명하게 볼 수 없다면 다양한 패러다임이 혼재하는 시스템에서 모델 주도 설계의 의미는 희미해질 수 있다.



#### 패러다임이 혼재할 때 모델 주도 설계 고수하기

룰 엔진은 떄대로 객체지향 프로젝트에서 혼용되는 기술의 예이다. 도메인 모델에는 명시적인 규칙이 포함되어 있지만 그럼에도 여전히 객체 패러다임에는 규칙과 규칙 간의 상호작용을 나타내기 위한 구체적인 의미체계가 부족하다.

룰 엔진 기술이 좋은 이유는  규칙을 정의하는 자연스러운 선언적인 방식을 제공하기 때문이고 객체의 약점과 강점을 보충함

자연스러운 연결을 제공하는 환경이 없다면 전체 설계를 유지하고자 명확하고 근본적인 개념으로 구성된 모델을 정제하는 일은 개발자의 몫으로 된다



모델 주도 설계가 객체지향적일 필요는 없지만, 모델 주도 설계는 표현력이 풍부한 모델 구성물(객체나 규칙, 또는 워크플로)의 구현에 분명 의존한다. 



##### 객체가 아닌 요소를 객체지향 시스템에 혼합하는데 필요한 4가지 법칙

1. 구현 패러다임을 도메인에 억지로 맞추지 않는다. 도메인에 관한 사고방식은 반드시 하나만 있는 것이 아니다. 패러다임에 어울리는 모델 개념을 가짐
2. 유비쿼터스 언어에 의지함 > 각종 도구가 서로 엄밀한 관계에 있지 않더라도 언어를 매우 일관되게 사용하면 설계의 각 부분이 분화되는 것을 방지
3. UML에 심취하지 않는다
4. 회의적이어야 한다 





















































